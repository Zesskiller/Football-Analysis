player$season <- season[j]
players <- rbind(players, player)
}
}
players <- players[c(2:length(players$season)),]
rm(player, i, j)
View(players)
View(players)
eden <- readHTMLTable(http://www.transfermarkt.co.uk/eden-hazard/leistungsdatendetails/spieler/50202/plus/1?saison=2013&verein=&liga=&wettbewerb=&pos=&trainer_id=)
eden <- readHTMLTable("http://www.transfermarkt.co.uk/eden-hazard/leistungsdatendetails/spieler/50202/plus/1?saison=2013&verein=&liga=&wettbewerb=&pos=&trainer_id=")
eden <- readHTMLTable("http://www.transfermarkt.co.uk/eden-hazard/leistungsdatendetails/spieler/50202/plus/1?saison=2013&verein=&liga=&wettbewerb=&pos=&trainer_id="
, which = 5)
View(eden)
View(eden)
eden <- readHTMLTable("http://www.transfermarkt.co.uk/eden-hazard/leistungsdatendetails/spieler/50202/plus/1?saison=2013&verein=&liga=&wettbewerb=&pos=&trainer_id=",
which = 7)
View(eden)
data <- readHTMLTable("http://www.transfermarkt.com/manchester-city/kader/verein/281/saison_id/2015/plus/1",
which = 3)
which = 4)
data <- readHTMLTable("http://www.transfermarkt.com/manchester-city/kader/verein/281/saison_id/2015/plus/1",
which = 4)
View(data)
data[2]
data[2,]
nr.name <- 1:5000
nr <- 1:5000
for(i in 2:5000)
nr.name <- i + 3
for(i in 2:5000)
nr.name[i] <- i + 3
rm(nr.name)
for(i in 2:5000)
nr.name[i] <- i + 3
nr.name <- NULL
for(i in 2:5000)
nr.name[i] <- i + 3
nr.name <- nr.name[c(2:length(nr.name))]
rm(nr)
name <- data[nr.name, 2]
name
name <- subset(name, is.na = FALSE)
nama <- na.omit(name)
name <- na.omit(name)
name
name <- as.data.frame(data[nr.name, 2])
View(name)
i <- 1:5000
nr.name <- NULL
a <- 1:5000
nr.name <- a[2*i+3]
nr.name <- nr.name[c(2:length(nr.name))]
nr.name <- NULL
a <- 1:5000
for(i in 1:5000){
nr.name <- a[2*i+3]
}
for(i in 1:5000){
nr.name <- a[2*i+3]
}
a <- 1:5000
a[5]
nr.name <- NULL
a <- 1:5000
for(i in 1:5000){
nr.name[i] <- a[2*i+3]
}
name <- as.data.frame(data[nr.name, 2])
View(name)
for(i in 1:5000){
b <- 2*i+3
}
nr.name <- NULL
a <- 1:5000
for(i in 1:5000){
nr.name <- 2*i+3
}
nr.name <- NULL
a <- 1:5000
for(i in 1:5000){
nr.name <- a[2*i+3]
}
name <- as.data.frame(data[nr.name, 2])
nr.name <- NULL
a <- 1:5000
for(i in 1:5000){
nr.name <- a[2*i+3]
}
nr.name <- NULL
a <- 1:5000
for(i in 1:5000){
nr.name[i] <- a[2*i+3]
}
nr.name <- NULL
a <- 1:5000
for(i in 0:5000){
nr.name[i] <- a[3*i+2]
}
name <- as.data.frame(data[nr.name, 2])
name <- na.omit(name)
View(name)
View(players)
View(data)
nr.value <- NULL
for(i in 0:5000)
nr.value[i] <- a[3*i+1]
nr.value <- NULL
for(i in 0:5000)
nr.value[i] <- a[3*i+1]
nr.value[length(nr.name)] = 1
nr.name
nr.value <- 1
for(i in 1:5000)
nr.value[i] <- a[3*i+1]
nr.value <- NULL
for(i in 1:5000)
nr.value[i] <- a[3*i+1]
nr.value[1] <- 1
for(i in 1:5000)
nr.value[i+1] <- a[3*i+1]
nr.name[1] <- 2
a <- 1:5000
for(i in 1:5000){
nr.name[i+1] <- a[3*i+2]
}
name <- as.data.frame(data[nr.name, 2])
name <- na.omit(name)
posval <- as.data.frame((data[nr.value, c(1,10)]))
posval <- no.omit(name)
posval <- na.omit(name)
View(posval)
View(name)
posval <- as.data.frame((data[nr.value, 1]))
posval <- na.omit(name)
View(posval)
posval <- as.data.frame((data[nr.value, 10]))
posval <- na.omit(name)
View(posval)
data[2,10]
data[1,10]
data[nr.value, 10]
na.omit(data[nr.value, 10])
posval <- as.data.frame((data[nr.value, 10]))
posval <- na.omit(posval)
View(posval)
posval <- as.data.frame((data[nr.value, c(1,10]))
posval <- na.omit(posval)
posval <- as.data.frame((data[nr.value, c(1,10)])
posval <- na.omit(posval)
posval <- as.data.frame((data[nr.value, c(1,10)]))
posval <- na.omit(posval)
View(posval)
val <- as.data.frame((data[nr.value, 10]))
val <- na.omit(posval)
rm(posval)
1
nr.pos[1] <- 3
for(i in 1:5000)
nr.pos[i+1] <- a[3*i]
nr.pos[1] <- 3
nr.position[1] <- 3
rm(nr.name)
nr.name[1] <- 2
nr.name <- NULL
nr.name[1] <- 2
nr.pos <- NULL
nr.pos[1] <- 3
for(i in 1:5000)
nr.pos[i+1] <- a[3*i]
pos <- as.data.frame((data[nr.pos, 1]))
pos <- na.omit(pos)
View(pos)
setwd("~/Documents/R Scripts/Football-Analysis")
teamID <- read.csv("team-ID.csv")
View(teamID)
teamID <- read.csv("team-ID.csv")
View(teamID)
URL4 <- "http://www.transfermarkt.com/"
URL5<- "/kader/verein/"
URL6 <- "/saison_id/"
URL7 <- "/plus/1"
URL4 <- "http://www.transfermarkt.com/"
URL5<- "/kader/verein/"
URL6 <- "/saison_id/"
URL7 <- "/plus/1"
teamID <- read.csv("team-ID.csv")
players2 <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), stringsAsFactors = FALSE,
header = TRUE))
players2 <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
View(players2)
players2$team <- teamID$Team[1]
View(players2)
players2 <- players2[1,]
players2$season <- season[1]
rm(data,eden,name,players,players2,pos,teamID, val)
library(jsonlite)
library(XML)
###===========PLAYER PERFORMANCE DETAIL PULL=========###
URL1 <- "http://www.foxsports.com/soccer/"
URL2 <- "-team-stats?competition=1&season="
URL3 <- "&type=1&category=STANDARD"
#URL used as reference
#http://www.foxsports.com/soccer/arsenal-team-stats?competition=1&season=2014&type=1&category=STANDARD
team <- c("arsenal", "liverpool", "chelsea", "manchester-united", "manchester-city", "everton", "tottenham-hotspur",
"west-ham-united", "newcastle-united", "aston-villa", "southampton","crystal-palace",
"swansea-city", "west-bromwich-albion", "stoke-city", "sunderland")
season <- c("2015", "2014", "2013")
players <- data.frame(readHTMLTable(paste0(URL1, team[1], URL2, season[1], URL3),
stringsAsFactors = FALSE, header = TRUE))
players$team <- team[1]
players <- players[1,]
players$season <- season[1]
for (j in 1:length(season)){
for( i in 1:length(team)){
player <- data.frame(readHTMLTable(paste0(URL1, team[i], URL2, season[j], URL3),
stringsAsFactors = FALSE, header = TRUE))
player$team <- team[i]
player$season <- season[j]
players <- rbind(players, player)
}
}
players <- players[c(2:length(players$season)),]
rm(player, i, j)
###=============PLAYER MARKET VALUE & POSITION PULL======###
#data <- readHTMLTable("http://www.transfermarkt.com/manchester-city/kader/verein/281/saison_id/2015/plus/1",
#                      which = 4)
###==========================================###
nr.name <- NULL
nr.name[1] <- 2
a <- 1:5000
for(i in 1:5000){
nr.name[i+1] <- a[3*i+2]
}
nr.value <- NULL
nr.value[1] <- 1
for(i in 1:5000)
nr.value[i+1] <- a[3*i+1]
nr.pos <- NULL
nr.pos[1] <- 3
for(i in 1:5000)
nr.pos[i+1] <- a[3*i]
###==========================================###
###======PULLING VALUE and POSITION OF PLAYERS=====###
URL4 <- "http://www.transfermarkt.com/"
URL5<- "/kader/verein/"
URL6 <- "/saison_id/"
URL7 <- "/plus/1"
teamID <- read.csv("team-ID.csv")
players.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
players.val$team <- teamID$Team[1]
players.val <- players.val[1,]
players.val$season <- season[1]
for (j in 1:length(season)){
for( i in 1:length(teamID$Team)){
player.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player)
}
}
players.val <- players.val[c(2:length(players.val$season)),]
rm(player.val, i, j)
players.name <- as.data.frame(data[players.val, 2])
players.name <- na.omit(players.name)
players.val2 <- as.data.frame((data[players.val, 10]))
players.val2 <- na.omit(players.val)
players.pos <- as.data.frame((data[players.val, 1]))
players.pos <- na.omit(players.pos)
players.data.2 <- cbind(players.name, players.val2, players.pos)
library(jsonlite)
library(XML)
###===========PLAYER PERFORMANCE DETAIL PULL=========###
URL1 <- "http://www.foxsports.com/soccer/"
URL2 <- "-team-stats?competition=1&season="
URL3 <- "&type=1&category=STANDARD"
library(jsonlite)
library(XML)
###===========PLAYER PERFORMANCE DETAIL PULL=========###
URL1 <- "http://www.foxsports.com/soccer/"
URL2 <- "-team-stats?competition=1&season="
URL3 <- "&type=1&category=STANDARD"
#URL used as reference
#http://www.foxsports.com/soccer/arsenal-team-stats?competition=1&season=2014&type=1&category=STANDARD
team <- c("arsenal", "liverpool", "chelsea", "manchester-united", "manchester-city", "everton", "tottenham-hotspur",
"west-ham-united", "newcastle-united", "aston-villa", "southampton","crystal-palace",
"swansea-city", "west-bromwich-albion", "stoke-city", "sunderland")
season <- c("2015", "2014", "2013")
players <- data.frame(readHTMLTable(paste0(URL1, team[1], URL2, season[1], URL3),
stringsAsFactors = FALSE, header = TRUE))
players$team <- team[1]
players <- players[1,]
players$season <- season[1]
View(players)
for (j in 1:length(season)){
for( i in 1:length(team)){
player <- data.frame(readHTMLTable(paste0(URL1, team[i], URL2, season[j], URL3),
stringsAsFactors = FALSE, header = TRUE))
player$team <- team[i]
player$season <- season[j]
players <- rbind(players, player)
}
}
View(players)
players <- players[c(2:length(players$season)),]
rm(player, i, j)
rm(player, i, j, URL1, URL2, URL3)
rm(player, i, j, URL1, URL2, URL3, team)
nr.name <- NULL
nr.name[1] <- 2
a <- 1:5000
for(i in 1:5000){
nr.name[i+1] <- a[3*i+2]
}
nr.value <- NULL
nr.value[1] <- 1
for(i in 1:5000)
nr.value[i+1] <- a[3*i+1]
nr.pos <- NULL
nr.pos[1] <- 3
for(i in 1:5000)
nr.pos[i+1] <- a[3*i]
URL4 <- "http://www.transfermarkt.com/"
URL5<- "/kader/verein/"
URL6 <- "/saison_id/"
URL7 <- "/plus/1"
teamID <- read.csv("team-ID.csv")
players.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
players.val$team <- teamID$Team[1]
View(players.val)
players.val <- players.val[1,]
players.val$season <- season[1]
View(players.val)
for (j in 1:length(season)){
for( i in 1:length(teamID$Team)){
player.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player.val)
}
}
for (j in 1:length(season)){
for( i in 1:length(teamID$Team)){
player.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- teamID$Team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player.val)
}
}
View(players.val)
players.val <- players.val[c(2:length(players.val$season)),]
rm(player.val, i, j)
rm(player.val, i, j, URL7, URl6, URl5, URl4)
rm(player.val, i, j, URL7, URl6, URl5, URl4)
players.name <- as.data.frame(data[players.val, 2])
players.name <- na.omit(players.name)
players.val2 <- as.data.frame((data[players.val, 10]))
players.val2 <- na.omit(players.val)
players.pos <- as.data.frame((data[players.val, 1]))
View(players.val)
View(players.val2)
players.name <- as.data.frame(data[nr.name, 2])
players.name <- na.omit(players.name)
players.name <- as.data.frame(players.val[nr.name, 2])
players.name <- na.omit(players.name)
players.val2 <- as.data.frame((players.val[nr.value, 10]))
players.val2 <- na.omit(players.val)
players.pos <- as.data.frame((players.val[nr.pos, 1]))
players.pos <- na.omit(players.pos)
players.data.2 <- cbind(players.name, players.val2, players.pos)
View(players.pos)
View(players.val)
View(players.name)
View(players.val2)
View(players.val)
View(players.pos)
View(players.pos)
players.val2 <- as.data.frame((players.val[nr.value, 10]))
players.val2 <- na.omit(players.val)
players.val2 <- as.data.frame(players.val[nr.value, 10])
players.val2 <- na.omit(players.val)
View(players.val)
players.val2 <- as.data.frame(players.val[nr.value,])
View(players.val2)
players.val2 <- na.omit(players.val)
players.val2 <- as.data.frame(players.val[nr.value, 9])
players.val2 <- na.omit(players.val)
View(players.val2)
players.val[c(1,4), 9])
players.val[c(1,4), 9]
players.val[c(1,4), 10]
a
players.value <- as.data.frame(players.val[nr.value, 9])
View(players.value)
players.value <- as.data.frame(players.val[nr.value, 10])
View(players.value)
rm(players.val2)
players.value <- na.omit(players.val)
players.value <- as.data.frame(players.val[nr.value, 10])
players.value <- na.omit(players.val)
players.value <- as.data.frame(players.val[nr.value, 10])
players.value <- na.omit(players.value)
players.pos <- as.data.frame(players.val[nr.pos, 1])
View(players.val)
length(is.na(players.val))
length(is.na(players.val#X.))
length(is.na(players.val$X.))
length(is.na(players.val$X.))
length(is.na(players.val$X.)==TRUE)
length(is.na(players.val$X.)=TRUE)
length(is.na(players.val$X.)=="TRUE")
is.na(players.val$X.)
is.na(players.pos)
players.pos <- na.omit(players.pos)
is.na(players.pos)
unique(players.pos)
nr.pos <- NULL
nr.pos[1] <- 3
for(i in 1:5000)
nr.pos[i+1] <- a[3*(i+1)]
players.pos <- as.data.frame(players.val[nr.pos, 1])
players.pos <- na.omit(players.pos)
players.data.2 <- cbind(players.name, players.val2, players.pos)
players.data.2 <- cbind(players.name, players.value, players.pos)
View(players.data.2)
for (j in 1:length(season)){
for( i in 1:length(teamID$Team)){
player.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[i], URL5, teamID$ID[i],
URL6, season[i], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- teamID$Team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player.val)
}
}
URL4 <- "http://www.transfermarkt.com/"
URL5<- "/kader/verein/"
URL6 <- "/saison_id/"
URL7 <- "/plus/1"
teamID <- read.csv("team-ID.csv")
players.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
players.val$team <- teamID$Team[1]
players.val <- players.val[1,]
players.val$season <- season[1]
for (j in 1:length(season)){
for( i in 1:length(teamID$Team)){
player.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[i], URL5, teamID$ID[i],
URL6, season[i], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- teamID$Team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player.val)
}
}
players.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[1], URL5, teamID$ID[1],
URL6, season[1], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
players.val$team <- teamID$Team[1]
players.val <- players.val[1,]
players.val$season <- season[1]
for (j in 1:length(season)){
for( i in 1:length(teamID$Team)){
player.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[i], URL5, teamID$ID[i],
URL6, season[i], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- teamID$Team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player.val)
}
}
teamID <- read.csv("team-ID.csv")
View(players.val)
players.val <- players.val[1,]
players.val$season <- season[1]
View(players.val)
URL6, season[i], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- teamID$Team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player.val)
}
paste0(URL4, teamID$Team[i], URL5, teamID$ID[i],
URL6, season[i], URL7
)
teamID$Team[1]
i <- c(1,2,3,4)
teamID$Team[i]
for (j in 1:length(season)){
for( i in 1:length(teamID$Team)){
player.val <- data.frame(readHTMLTable(paste0(URL4, teamID$Team[i], URL5, teamID$ID[i],
URL6, season[i], URL7), which = 4,
stringsAsFactors = FALSE, header = TRUE))
player.val$team <- teamID$Team[i]
player.val$season <- season[j]
players.val <- rbind(players.val, player.val)
}
}
View(players.val)
